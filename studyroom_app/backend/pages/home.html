<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>自主室（入退室 + ランキング）</title>
  <link rel="stylesheet" href="/static/style.css"/>
</head>
<body>
  <div class="wrap">
    <header class="row between">
      <div>
        <h1>自主室</h1>
        <p class="muted">入退室 + 上位ランキング（1台で運用できるホーム画面）</p>
      </div>
      <nav class="muted">
        <a href="/login">個人</a> · <a href="/admin">管理</a>
      </nav>
    </header>

    <div class="card">
      <h2>入退室</h2>
      <div class="grid2">
        <div>
          <label>学籍番号<input id="student" placeholder="例: 2026A001" autocomplete="off"/></label>
        </div>
        <div>
          <label>PIN<input id="pin" type="password" placeholder="4桁〜" autocomplete="off"/></label>
        </div>
      </div>
      <div class="row gap">
        <button class="primary bigbtn" id="btn_in">入室</button>
        <button class="danger bigbtn" id="btn_out">退室</button>
        <span class="muted" id="hint">※PINは周りから見えないように</span>
      </div>
      <p id="msg" class="msg muted" style="margin-top:10px;">ここに結果が表示されます</p>
    </div>

    <div class="card">
      <div class="row between" style="gap:12px; flex-wrap:wrap;">
        <h2 style="margin:0;">ランキング（上位表示）</h2>
        <div class="row gap" style="flex-wrap:wrap;">
          <select id="range">
            <option value="today">今日</option>
            <option value="week">今週</option>
            <option value="month">今月</option>
          </select>
          <button id="refresh">更新</button>
          <span class="muted" id="meta"></span>
        </div>
      </div>
      <table class="table" id="table" style="margin-top:10px;">
        <thead>
          <tr><th>#</th><th>表示名</th><th>時間</th></tr>
        </thead>
        <tbody></tbody>
      </table>
      <p class="muted" style="margin-top:10px;">ランキングはモチベ用。運用で辛くなるなら「匿名表示」や「上位だけ表示」を検討。</p>
    </div>

    <footer class="muted" style="margin-top:16px;">
      <small>Tip: 個人の推移/順位の推移は「個人」から確認できます。</small>
    </footer>
  </div>

  <script src="/static/home.js"></script>
</body>
</html>
